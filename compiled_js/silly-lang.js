(()=>{"use strict";var e={120:(e,t,r)=>{var n;r.d(t,{ou:()=>a,ru:()=>n,uB:()=>o}),function(e){e[e.ANY=0]="ANY",e[e.STR=1]="STR",e[e.INT=2]="INT"}(n||(n={}));var a=function(){function e(e,t){void 0===t&&(t=n.ANY),this.value="",this.type=0,this.value=e,this.type=t}return e.prototype.log=function(e){void 0===e&&(e=""),console.log("".concat(e).concat(this.value," (").concat(this.type,")"))},e}(),o=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.args=t}return e.prototype.log=function(){console.log("".concat(this.name,": "));for(var e=0,t=this.args;e<t.length;e++)t[e].log("    ");console.log("")},e}()},630:(e,t,r)=>{r.r(t),r.d(t,{ask:()=>s,readfile:()=>i,rl:()=>o});const n=require("readline"),a=require("fs");var o=n.createInterface({input:process.stdin,output:process.stdout});function s(e){return new Promise((function(t){o.question(e,(function(e){t(e)}))}))}function i(e,t){void 0===t&&(t="utf8");try{return a.readFileSync(e,t)}catch(e){return console.error("Error reading the file: ",e),""}}},762:(e,t,r)=>{r.r(t),r.d(t,{Interpreter:()=>i});var n=r(630),a=r(120),o=r(801),s={declare:":3",assign:":p",concat:":v",add:":d",sub:":c",mult:":}",div:":{",inc:"^.^",dec:"t.t",in:"owo",out:"uwu",error:"xwx",label:"u.u",jmp:"o.o",jmp_eq:":)",jmp_neq:":(",jmp_eq_notype:">:)",jmp_neq_notype:">:(",jmp_gt:":]",jmp_lt:":[",jmp_eq_gt:">:]",jmp_eq_lt:">:[",halt:"x.x"},i=function(){function e(){this.varMap={_endl:"\n",_tab:"\t",_nan:NaN,_empty_str:"",_prog_counter:0,":>":1,_true:1,":<":0,_false:0,twt:0}}return e.prototype.logerror=function(e,t){void 0===e&&(e="No further information provided."),void 0===t&&(t="Error"),console.log("[1m[31m"+"".concat(t," in Command ").concat(this.varMap._prog_counter,": ")+"[0m[31m"+e+"[0m")},e.prototype.logcode=function(e){e.forEach((function(e){return e.log()}))},e.prototype.concatTokens=function(e,t){void 0===t&&(t=0);for(var r="",n=t;n<e.length;n++)r+=this.getTokenValue(e[n]);return r},e.prototype.declareVar=function(e,t){return e in this.varMap?(this.logerror("Variable ".concat(e," already exists")),!1):(this.varMap[e]=t,!0)},e.prototype.assignVar=function(e,t){return e in this.varMap?(this.varMap[e]=t,!0):(this.logerror('Variable "'.concat(e,'" not found.')),!1)},e.prototype.getTokenValue=function(e){switch(e.type){case a.ru.ANY:if(e.value in this.varMap)return this.varMap[e.value];this.logerror('Variable "'.concat(e.value,'" not found.'));break;case a.ru.STR:return e.value;case a.ru.INT:return(0,o.strToNum)(e.value)}return""},e.prototype.getName=function(e){return e.type==a.ru.ANY?e.value:(this.logerror("".concat(e.value," is not a valid variable name.")),"")},e.prototype.getKeyword=function(e){return e.type==a.ru.ANY&&e.value in s?e.value:(this.logerror('"'.concat(e.value,'" is not a valid keyword name.')),"")},e.prototype.getString=function(e){switch(e.type){case a.ru.ANY:if("string"==typeof this.varMap[e.value])return this.varMap[e.value];this.logerror("".concat(e.value," is not a string."));break;case a.ru.STR:return e.value;case a.ru.INT:this.logerror("".concat(e.value," is not a string."))}return""},e.prototype.getNum=function(e){switch(e.type){case a.ru.ANY:var t=this.varMap[e.value];if("number"==typeof t)return t;if("string"==typeof t){var r=parseFloat(t);if(!isNaN(r))return r;this.logerror("".concat(e.value," is not a number."))}break;case a.ru.STR:this.logerror("".concat(e.value," is not a number."));break;case a.ru.INT:return(0,o.strToNum)(e.value)}return NaN},e.prototype.checkArgs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t.includes(e.args.length);return n||this.logerror('Invalid argument count for "'.concat(e.name,'": ').concat(e.args.length,". Allowed counts: ").concat(t.join(", "))),n},e.prototype.atLeastArgs=function(e,t){var r=e.args.length>=t;return r||this.logerror('Invalid argument count for "'.concat(e.name,'": ').concat(e.args.length,". Command must have at least ").concat(t," arguments")),r},e.prototype.execute=function(e){return t=this,r=void 0,o=function(){var t,r,a;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:console.log(""),t=0,o.label=1;case 1:if(!(t<e.length))return[3,19];if((r=e[t]).name===s.halt)return[3,19];switch(this.varMap._prog_counter=t,this.varMap.twt=Math.random(),r.name){case s.in:return[3,2];case s.out:return[3,4];case s.error:return[3,5];case s.declare:return[3,6];case s.assign:return[3,7];case s.label:return[3,8];case s.concat:return[3,9];case s.add:return[3,10];case s.sub:return[3,11];case s.mult:return[3,12];case s.div:return[3,13];case s.inc:case s.mult:return[3,14];case s.dec:return[3,15];case s.jmp:return[3,16]}return[3,17];case 2:return this.atLeastArgs(r,2)?[4,n.ask(this.concatTokens(r.args,1))]:[3,18];case 3:return a=o.sent(),this.assignVar(this.getName(r.args[0]),a),[3,18];case 4:return console.log(this.concatTokens(r.args)),[3,18];case 5:return this.logerror(this.concatTokens(r.args),"Runtime Error"),[3,18];case 6:return this.checkArgs(r,1,2)?(2==r.args.length?this.declareVar(this.getName(r.args[0]),this.getTokenValue(r.args[1])):this.declareVar(this.getName(r.args[0]),NaN),[3,18]):[3,18];case 7:return this.checkArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getTokenValue(r.args[1])),[3,18]):[3,18];case 8:return this.checkArgs(r,1)?(this.declareVar(this.getName(r.args[0]),this.varMap._prog_counter),[3,18]):[3,18];case 9:return this.atLeastArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getString(r.args[0]).concat(this.concatTokens(r.args,1))),[3,18]):[3,18];case 10:return this.checkArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])+this.getNum(r.args[1])),[3,18]):[3,18];case 11:return this.checkArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])-this.getNum(r.args[1])),[3,18]):[3,18];case 12:return this.checkArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])*this.getNum(r.args[1])),[3,18]):[3,18];case 13:return this.checkArgs(r,2)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])/this.getNum(r.args[1])),[3,18]):[3,18];case 14:return this.checkArgs(r,1)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])+1),[3,18]):[3,18];case 15:return this.checkArgs(r,1)?(this.assignVar(this.getName(r.args[0]),this.getNum(r.args[0])-1),[3,18]):[3,18];case 16:if(!this.checkArgs(r,1,4))return[3,18];if(1==r.args.length)t=this.getNum(r.args[0]);else switch(this.getKeyword(r.args[2])){case s.jmp_eq:this.getTokenValue(r.args[1])===this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_neq:this.getTokenValue(r.args[1])!==this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_eq_notype:this.getTokenValue(r.args[1])==this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_neq_notype:this.getTokenValue(r.args[1])!=this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_gt:this.getTokenValue(r.args[1])>this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_lt:this.getTokenValue(r.args[1])<this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_eq_gt:this.getTokenValue(r.args[1])>=this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;case s.jmp_eq_lt:this.getTokenValue(r.args[1])<=this.getTokenValue(r.args[2])&&(t=this.getNum(r.args[0]));break;default:this.logerror("The keyword ".concat(r.args[2]," is not a valid keyword for a condicional jump."))}return[3,18];case 17:this.logerror('The command "'.concat(r.name,'" does not exit')),o.label=18;case 18:return t++,[3,1];case 19:return n.rl.close(),[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function s(e){try{u(o.next(e))}catch(e){n(e)}}function i(e){try{u(o.throw(e))}catch(e){n(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(s,i)}u((o=o.apply(t,r||[])).next())}));var t,r,a,o},e}()},801:(e,t,r)=>{r.r(t),r.d(t,{END_COMMAND:()=>u,LINE_COMMENT:()=>s,MULTI_L_COMMENT:()=>i,NUM_PREFIX:()=>a,QUOTE:()=>o,parse:()=>f,strToNum:()=>c,tokenize:()=>p});var n=r(120),a="#",o='"',s=">w<",i=[">o<",">.<"],u="~";function c(e){return e.slice(a.length)}function l(e,t){return"[".concat(t,"m").concat(e,"[0m")}function g(e){return" "===e[0]||"\t"===e[0]||"\n"===e[0]}function h(e,t,r){for(var n=!0,a=0;a<t.length;a++)if(e[a+r]!==t[a]){n=!1;break}return n}function p(e,t,r){void 0===t&&(t=o),void 0===r&&(r=a);for(var u=[],c="",p=n.ru.ANY,f=!1,m=function(e,t,r){void 0===t&&(t=s),void 0===r&&(r=i);for(var n="",a=!1,o=!1,u=0;u<e.length;u++)o?"\n"===e[u]&&(o=!1):a?h(e.toLowerCase(),r[1],u)&&(a=!1,u+=r[1].length-1):h(e.toLowerCase(),t,u)?(o=!0,u+=t.length-1):h(e.toLowerCase(),r[0],u)?(a=!0,u+=r[0].length-1):n+=e[u];return a&&console.log(l('Warning: multi line comment never closed. Check for missing "'.concat(i[1],'"'),"33")),n}(e),v=0,d=m;v<d.length;v++){var y=d[v];f?y==t?(f=!1,u.push(new n.ou(c,p)),c="",p=n.ru.ANY):c+=y:y==t?(f=!0,p=n.ru.STR):g(y)?""!==c.trim()&&(h(c,r,0)&&(p=n.ru.INT),u.push(new n.ou(c.trim().toLowerCase(),p)),c="",p=n.ru.ANY):c+=y}return""!==c.trim()&&u.push(new n.ou(c.trim().toLowerCase(),p)),u}function f(e,t){void 0===t&&(t=u);for(var r=[],a=null,o=0,s=e;o<s.length;o++){var i=s[o];a?i.value==t&&i.type==n.ru.ANY?(a&&r.push(a),a=null):a&&a.args.push(i):a=new n.uB(i.value)}return a&&console.log(l('Warning: last command is not closed. Check for missing "'.concat(u,'".'),"33")),r}},803:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function i(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(630),s=r(801),i=r(762);!function(){n(this,void 0,void 0,(function(){var e,t,r,n;return a(this,(function(a){switch(a.label){case 0:return[4,o.ask("File name/path: ")];case 1:return e=a.sent(),t=o.readfile(e),r=s.tokenize(t),n=s.parse(r),[4,(new i.Interpreter).execute(n)];case 2:return a.sent(),o.rl.close(),[2]}}))}))}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(803)})();